<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>The Wedding of Indah & Arif</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
  <style>
    body{
      margin:0;
      font-family:"Poppins",sans-serif;
      background:#fffdf8;
      color:#333;
      text-align:center;
      -webkit-font-smoothing:antialiased;
    }
    h1{font-family:"Playfair Display",serif;font-size:46px;margin:10px 0;}
    .container{padding:60px 20px;}
    .btn{
      display:inline-block;
      background:#d4af37;
      color:#111;
      padding:12px 28px;
      border-radius:999px;
      font-weight:700;
      text-decoration:none;
      margin-top:24px;
    }
    .note{font-size:13px;color:#777;margin-top:14px;}
    .recipient{margin-top:12px;font-weight:600;color:#555;}
    .audio-control button{background:#fff;border:1px solid #eee;padding:10px 14px;border-radius:10px;cursor:pointer;}
  </style>
</head>
<body>
  <div class="container">
    <h1>The Wedding of<br>Indah &amp; Arif</h1>
    <p>December 3, 2025</p>
    <div id="recipient" class="recipient"></div>
    <a id="openBtn" class="btn">Open Invitation</a>
    <p class="note">Music will begin automatically (please allow audio in your browser).</p>
    <div id="musicControl" class="audio-control"></div>
  </div>

  <audio id="bgAudio" src="soft-piano-music-10-minutes-long-231315.mp3" loop></audio>

  <script>
    // show recipient name
    const params = new URLSearchParams(location.search);
    const to = params.get('to');
    if(to) document.getElementById('recipient').textContent = 'Dear ' + decodeURIComponent(to);

    // autoplay attempt
    const audio = document.getElementById('bgAudio');
    audio.volume = 0.8;
    const tryPlay = audio.play();
    if(tryPlay) tryPlay.catch(()=>{
      const btn = document.createElement('button');
      btn.textContent = 'ðŸŽµ Play Music';
      btn.onclick = ()=>{ audio.play(); btn.remove(); };
      document.getElementById('musicControl').appendChild(btn);
    });

    // open invitation
    document.getElementById('openBtn').onclick = ()=>{
      const dest = 'invitation.html' + (to ? '?to=' + encodeURIComponent(to) : '');
      location.href = dest;
    };
  </script>
</body>
</html>
